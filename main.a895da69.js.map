{"version":3,"sources":["scripts/main.js"],"names":["prevItem","body","document","querySelector","table","tableBody","form","createElement","button","formLableName","rows","cells","selectValues","addSwitcher","prevRow","clickCount","className","pushNotification","posTop","posRight","title","description","type","infoBlock","messageTitle","messageDescription","classList","add","textContent","style","width","right","top","appendChild","setTimeout","removeChild","showError","showSuccess","nameRequire","personName","length","letter","toLowerCase","toUpperCase","ageRequire","personAge","startTableBody","arr","convertToNumber","letters","correctSalary","convertToString","str","toLocaleString","currency","minimumFractionDigits","forEach","element","index","lable","input","select","city","option","append","name","dataset","qa","hasActive","newFunction","newTd","querySelectorAll","cell","addEventListener","func","e","item","target","itemText","innerHTML","value","action","actionItem","code","removeEventListener","preventDefault","tBody","newPerson","myformData","FormData","data","personInfo","cellsOfNewPerson","lastChild","reset","sortList","sort","rowA","rowB","rowAContent","rowBContent","localeCompare","i","itemIndex","cellIndex","parentElement","remove"],"mappings":"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","file":"main.a895da69.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\n// write code here\nconst body = document.querySelector('body');\nconst table = document.querySelector('table');\nconst tableBody = document.querySelector('tbody');\nconst form = document.createElement('form');\nconst button = document.createElement('button');\nconst formLableName = [...table.rows[0].cells];\nconst selectValues = [\n  `Tokyo`, `Singapore`, `London`, `New York`, `Edinburgh`, `San Francisco`];\nlet addSwitcher = true;\nlet prevRow = document.createElement('tr');\nlet prevItem;\nlet clickCount = 2;\n\nprevRow.className = 'active';\nform.className = 'new-employee-form';\n\nconst pushNotification = (posTop, posRight, title, description, type) => {\n  const infoBlock = document.createElement('div');\n  const messageTitle = document.createElement('h2');\n  const messageDescription = document.createElement('p');\n\n  infoBlock.classList.add('notification');\n  infoBlock.classList.add(`${type}`);\n  messageTitle.classList.add('title');\n\n  messageTitle.textContent = title;\n  messageDescription.textContent = description;\n\n  infoBlock.style.width = '315px';\n  infoBlock.style.right = `${posRight}px`;\n  infoBlock.style.top = `${posTop}px`;\n\n  infoBlock.appendChild(messageTitle);\n  infoBlock.appendChild(messageDescription);\n  body.appendChild(infoBlock);\n\n  setTimeout(() => {\n    body.removeChild(infoBlock);\n  }, 2000);\n};\n\nconst showError = function() {\n  pushNotification(10, 10, 'Error',\n    'Houston we have trubles!\\n '\n  + 'Check inputs values again.', 'error');\n\n  addSwitcher = false;\n};\n\nconst showSuccess = function() {\n  pushNotification(10, 10, 'Success',\n    'All good! \\n'\n  + 'New employee added to list.', 'success');\n};\n\nconst nameRequire = function(personName) {\n  if (personName.length < 4) {\n    showError();\n  }\n\n  for (const letter of personName) {\n    if (letter.toLowerCase() === letter.toUpperCase()) {\n      showError();\n    }\n  }\n};\n\nconst ageRequire = function(personAge) {\n  if (+personAge < 18 || +personAge > 90) {\n    showError();\n  }\n};\n\nconst startTableBody = document.querySelector('tbody');\n\nlet arr = [...startTableBody.rows];\n\nconst convertToNumber = function(letters) {\n  let correctSalary = '';\n\n  for (const letter of letters) {\n    if (letter !== '$' && letter !== ',') {\n      correctSalary += letter;\n    }\n  }\n\n  return +correctSalary;\n};\n\nconst convertToString = function(str) {\n  return str.toLocaleString('en', {\n    style: 'currency',\n    currency: 'USD',\n    minimumFractionDigits: 0,\n  });\n};\n\nformLableName.forEach((element, index) => {\n  const lable = document.createElement('label');\n  const input = document.createElement('input');\n  const select = document.createElement('select');\n\n  lable.textContent = `${element.textContent}:`;\n\n  selectValues.forEach(city => {\n    const option = document.createElement('option');\n\n    option.textContent = city;\n    select.append(option);\n  });\n\n  if (element.textContent !== 'Office') {\n    lable.append(input);\n  } else {\n    lable.append(select);\n  }\n\n  input.name = `${element.textContent.toLowerCase()}`;\n  select.name = `${element.textContent.toLowerCase()}`;\n  input.dataset.qa = `${element.textContent.toLowerCase()}`;\n  select.dataset.qa = `${element.textContent.toLowerCase()}`;\n\n  if (index === 3 || index === 4) {\n    input.type = 'number';\n  } else {\n    input.type = 'text';\n  }\n\n  form.append(lable);\n});\n\nbutton.textContent = 'Save to table';\n\nform.append(button);\n\nbody.append(form);\n\nlet hasActive = false;\n\nconst newFunction = function() {\n  const newTd = document.querySelectorAll('td');\n\n  [...newTd].forEach((cell, index) => {\n    cell.addEventListener('dblclick', function func(e) {\n      const item = e.target;\n      const input = document.createElement('input');\n      const itemText = item.innerHTML;\n\n      if (hasActive) {\n        return;\n      }\n\n      hasActive = true;\n\n      input.className = 'cell-input';\n      input.value = itemText;\n      item.innerHTML = '';\n      item.appendChild(input);\n\n      input.addEventListener('blur', action => {\n        const actionItem = action.target;\n\n        item.innerHTML = actionItem.value;\n\n        if (actionItem.value === '') {\n          item.innerHTML = itemText;\n        }\n\n        hasActive = false;\n\n        item.addEventListener('dblclick', func);\n      });\n\n      input.addEventListener('keyup', action => {\n        if (action.code === 'Enter') {\n          const actionItem = action.target;\n\n          hasActive = false;\n\n          item.innerHTML = actionItem.value;\n\n          if (actionItem.value === '') {\n            item.innerHTML = itemText;\n          }\n\n          item.addEventListener('dblclick', func);\n        }\n      });\n\n      item.removeEventListener('dblclick', func);\n    });\n  });\n};\n\nnewFunction();\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n\n  addSwitcher = true;\n\n  const tBody = document.querySelector('tbody');\n  const newPerson = document.createElement('tr');\n  const myformData = new FormData(form);\n\n  for (const data of myformData) {\n    const personInfo = document.createElement('td');\n\n    if (data[0] === 'salary') {\n      personInfo.textContent = convertToString(+data[1]);\n    } else {\n      personInfo.textContent = data[1];\n    }\n\n    newPerson.append(personInfo);\n  }\n\n  const cellsOfNewPerson = [...newPerson.cells];\n\n  newPerson.lastChild.textContent\n  = convertToString(newPerson.lastChild.textContent);\n\n  cellsOfNewPerson.forEach((cell, index) => {\n    switch (index) {\n      case 0:\n        nameRequire(cell.textContent);\n        break;\n\n      case 3:\n        ageRequire(cell.textContent);\n        break;\n    }\n\n    if (cell.textContent.length === 0) {\n      showError();\n    }\n  }\n  );\n\n  if (addSwitcher === true) {\n    tBody.append(newPerson);\n\n    showSuccess();\n    form.reset();\n  }\n\n  arr = [...tableBody.rows];\n\n  newFunction();\n});\n\nconst sortList = function(index) {\n  const compare = function(rowA, rowB) {\n    let rowAContent = rowA.cells[index].innerHTML;\n    let rowBContent = rowB.cells[index].innerHTML;\n\n    if (index === 4) {\n      rowAContent = convertToNumber(rowA.cells[index].innerHTML);\n      rowBContent = convertToNumber(rowB.cells[index].innerHTML);\n    }\n\n    if (clickCount % 2 === 0) {\n      switch (index) {\n        case 0:\n        case 1:\n        case 2:\n          return rowAContent.localeCompare(rowBContent);\n        case 3:\n        case 4:\n          return rowBContent - rowAContent;\n      }\n    } else {\n      switch (index) {\n        case 0:\n        case 1:\n        case 2:\n          return rowBContent.localeCompare(rowAContent);\n        case 3:\n        case 4:\n          return rowAContent - rowBContent;\n      }\n    }\n  };\n\n  arr.sort(compare);\n\n  table.removeChild(tableBody);\n\n  for (let i = 0; i < arr.length; i++) {\n    tableBody.appendChild(arr[i]);\n  }\n\n  table.appendChild(tableBody);\n};\n\ntable.rows[0].addEventListener('click', e => {\n  const item = e.target;\n\n  if (prevItem !== item) {\n    clickCount = 2;\n  } else {\n    clickCount++;\n  }\n\n  const itemIndex = item.cellIndex;\n\n  prevItem = item;\n\n  sortList(itemIndex);\n});\n\ntableBody.addEventListener('click', e => {\n  const item = e.target;\n\n  item.parentElement.classList.add('active');\n\n  if (prevRow !== item.parentElement) {\n    prevRow.classList.remove('active');\n  }\n\n  prevRow = item.parentElement;\n}\n);\n"]}